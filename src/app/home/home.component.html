<div style="position: absolute;top: 10px;right: 10px;">
  <mat-form-field class="user_top_filter">
    <mat-label>Usuario</mat-label>
    <input #userFiltered matInput placeholder="Usuario" (input)="getUsersByName(userFiltered.value)" value=""
      autocomplete="off">
  </mat-form-field>
</div>

<mat-grid-list cols="3" rowHeight="2:1">
  <div style="">
    <!-- <mat-spinner *ngIf="users.length === 0"></mat-spinner> -->

    <form [formGroup]="form" novalidate autocomplete="off">
      <mat-grid-tile *ngFor="let user of users;let i = index" class="mat_grid_title">

        <mat-card style="" [ngStyle]="{'background-color': getRandomColor()}" style="width: 100%;height: 100%;">
          <mat-card-header style="display: block;">
            <div class="row" style="display: inline;width: 100%;">
              <div style="float: left;">
                <mat-card-title>{{ user.name }}</mat-card-title>
              </div>
              <div style="float: right;padding-right: 10px;" class="">
                <button mat-mini-fab color="primary" matTooltip="Show graphics" aria-label="">
                  <mat-icon>poll</mat-icon>
                </button>
              </div>
            </div>
          </mat-card-header>
          <mat-card-content style="overflow: hidden; margin: 0px;">
            <div class="row" style="display: inline;">
              <div class="column col-sm-6" style="float: left;">
                <p style="">Peticiones Reabiertas: {{ user.tasks?user.tasks.length:0 }}</p>
                <p style="">Interrupciones: {{ user.interruptions?user.interruptions.length:0 }}</p>
                <!-- <p style="margin: 0px;">Interrupciones: <span style="margin: 0px;"
                *ngFor="let interruption of getInterruptions(user)">{{interruption}}, </span></p>
            <p style="margin: 0px;">Tareas:
              <span style="margin: 0px;" *ngFor="let tarea of getTareas(user)">{{tarea}}, </span></p> -->
              </div>
              <div class="column" style="float: right;margin-right: 20px;">
                <div class="row">
                  <button mat-raised-button (click)="addTask(user,'0')" class="mat_raised_button">+1 Reabierta</button>
                </div>
                <div class="row">
                  <button mat-raised-button (click)="addInterrupt(user)" class="mat_raised_button">+1
                    Interrupción</button>
                </div>
              </div>
            </div>
          </mat-card-content>

          <!-- <mat-card-actions class="form-inline"> -->
          <div style="padding: 5px;">
            <mat-form-field appearance="outline" class="mat_form_field_task">
              <mat-label>ID Tarea</mat-label>
              <input matInput type="text" value="" formControlName="taskIdToAdd" style="" />
            </mat-form-field>
            <button mat-raised-button type="submit" (click)="addNewTask(user)">Añadir</button>
          </div>
          <!-- </mat-card-actions> -->
        </mat-card>

      </mat-grid-tile>
    </form>
  </div>
</mat-grid-list>